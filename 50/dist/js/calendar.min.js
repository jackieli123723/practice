/**
 * Created by Administrator on 2017/4/29 0029.
 */
'use strict';(function(a){function b(t){f=t,c()}function c(){function t(u,v){if(u=u||p,v=v||q,'number'==typeof u&&'number'==typeof v){var x=new Date(u,v+1,0),y=x.getDate();x.setDate(1);var z=x.getDay(),A=-z;m.innerHTML='';for(var C,B=0;6>B;B++){C=document.createElement('tr');for(var D=0;7>D;D++){A++;var E=document.createElement('td');if(0<A&&A<=y)E.innerHTML=A;else if(A>y)break;C.appendChild(E)}if(m.appendChild(C),A>y)break}nowDatePanle.innerHTML=x.getFullYear()+'-'+(x.getMonth()+1),p=x.getFullYear(),q=x.getMonth()}}g=f.getElementsByClassName('ui-dataPanel-yearSub')[0],h=f.getElementsByClassName('ui-dataPanel-yearAdd')[0],k=f.getElementsByClassName('ui-dataPanel-monthSub')[0],l=f.getElementsByClassName('ui-dataPanel-monthAdd')[0],m=f.getElementsByClassName('ui-dataPanel-body')[0],nowDatePanle=f.getElementsByClassName('ui-dataPanel-date')[0],n='ui-dataPanel-select',f.addEventListener('click',function(u){var v=u.target||u.srcElement;u.preventDefault();'A'==v.tagName?(v===g?p--:v===h?p++:v===k?q--:v===l?q++:void 0,t()):'TD'==v.tagName&&v.innerHTML&&([].forEach.call(m.childNodes,function(w){[].forEach.call(w.childNodes,function(x){if('string'==typeof x.getAttribute('class')){var y=x.getAttribute('class'),z=y.indexOf(n);if(-1!=z){var A=y.split('');A.splice(z,n.length),x.setAttribute('class',A.join('').trim())}}})}),v.getAttribute('class')?v.setAttribute('class',v.getAttribute('class')+' '+n):v.setAttribute('class',n),r=v.innerHTML-0,s&&s(p,q+1,r))}),t()}var f,g,h,k,l,m,n,o=new Date,p=o.getFullYear(),q=o.getMonth(),r=o.getDate(),s=null;b.prototype={toggle:function toggle(){f.style.display='block'==f.style.display?'none':'block'},setChangeCallBack:function setChangeCallBack(t){s=t}},a.calendar=b})(window);